<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Барбершоп • Запись</title>

  <!-- Telegram WebApp SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600;700&family=Manrope:wght@500;600;700;800;900&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <svg width="0" height="0" style="position:absolute;left:-9999px;overflow:hidden" aria-hidden="true" focusable="false">
    <symbol id="i-arrow-left" viewBox="0 0 24 24">
      <path d="M19 12H5"></path>
      <path d="m12 19-7-7 7-7"></path>
    </symbol>
    <symbol id="i-user" viewBox="0 0 24 24">
      <circle cx="12" cy="7.5" r="3.5"></circle>
      <path d="M4.5 20a7.5 7.5 0 0 1 15 0"></path>
    </symbol>
    <symbol id="i-users" viewBox="0 0 24 24">
      <path d="M15.5 19a4.5 4.5 0 0 0-9 0"></path>
      <circle cx="11" cy="8" r="3"></circle>
      <path d="M20.5 19a3.7 3.7 0 0 0-3-3.6"></path>
      <path d="M6 4.8a2.5 2.5 0 1 0 0 5"></path>
    </symbol>
    <symbol id="i-calendar" viewBox="0 0 24 24">
      <rect x="3" y="5" width="18" height="16" rx="2"></rect>
      <path d="M16 3v4M8 3v4M3 10h18"></path>
    </symbol>
    <symbol id="i-list" viewBox="0 0 24 24">
      <path d="M8 6h13M8 12h13M8 18h13"></path>
      <circle cx="4" cy="6" r="1"></circle>
      <circle cx="4" cy="12" r="1"></circle>
      <circle cx="4" cy="18" r="1"></circle>
    </symbol>
    <symbol id="i-receipt" viewBox="0 0 24 24">
      <path d="M6 3h12v18l-3-2-3 2-3-2-3 2z"></path>
      <path d="M9 8h6M9 12h6"></path>
    </symbol>
    <symbol id="i-scissors" viewBox="0 0 24 24">
      <circle cx="6.5" cy="6.5" r="2.5"></circle>
      <circle cx="6.5" cy="17.5" r="2.5"></circle>
      <path d="M20 4 8.5 15.5M20 20 8.5 8.5"></path>
    </symbol>
    <symbol id="i-chevron-right" viewBox="0 0 24 24">
      <path d="m9 6 6 6-6 6"></path>
    </symbol>
    <symbol id="i-chevron-left" viewBox="0 0 24 24">
      <path d="m15 6-6 6 6 6"></path>
    </symbol>
    <symbol id="i-chevron-up" viewBox="0 0 24 24">
      <path d="m6 14 6-6 6 6"></path>
    </symbol>
    <symbol id="i-check" viewBox="0 0 24 24">
      <path d="m5 13 4 4L19 7"></path>
    </symbol>
  </svg>

  <div class="wrap">

    <!-- TOP BAR -->
    <div class="topbar">
      <button class="iconBtn" id="backBtn" aria-label="Назад">
        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-arrow-left"></use></svg>
      </button>

      <div class="brandRow">
        <div class="logo">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-scissors"></use></svg>
        </div>
        <div>
          <div class="brandTitle">Барбершоп Казань</div>
          <div class="brandAddr">Дементьева, 72к5</div>
        </div>
      </div>

      <button class="iconBtn" id="profileBtn" aria-label="Профиль">
        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-user"></use></svg>
      </button>
    </div>

    <!-- SCREEN: HOME -->
    <section class="screen active" id="screenHome">
      <div class="card">
        <div class="menuItem" data-open="screenSpec">
          <div class="miIcon">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-users"></use></svg>
          </div>
          <div class="miText">
            <div class="miTitle">Выбрать специалиста</div>
            <div class="miSub" id="specSub">1 мастер (по умолчанию)</div>
          </div>
          <div class="miArrow">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-chevron-right"></use></svg>
          </div>
        </div>

        <div class="menuItem" data-open="screenDate">
          <div class="miIcon">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-calendar"></use></svg>
          </div>
          <div class="miText">
            <div class="miTitle">Выбрать дату и время</div>
            <div class="miSub" id="dtSub">Не выбрано</div>
          </div>
          <div class="miArrow">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-chevron-right"></use></svg>
          </div>
        </div>

        <div class="menuItem" data-open="screenServices">
          <div class="miIcon">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-list"></use></svg>
          </div>
          <div class="miText">
            <div class="miTitle">Выбрать услуги</div>
            <div class="miSub" id="svcSub">Не выбрано</div>
          </div>
          <div class="miArrow">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-chevron-right"></use></svg>
          </div>
        </div>

        <div class="menuItem" data-open="screenMy">
          <div class="miIcon">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-receipt"></use></svg>
          </div>
          <div class="miText">
            <div class="miTitle">Мои записи</div>
            <div class="miSub">История и отмена</div>
          </div>
          <div class="miArrow">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-chevron-right"></use></svg>
          </div>
        </div>
      </div>


      <div class="bottom">
        <button class="primary" id="goConfirm" disabled>Продолжить</button>
        <div class="note" id="homeNote">Выбери услугу и дату/время.</div>
      </div>
    </section>

    <!-- SCREEN: SPEC -->
    <section class="screen" id="screenSpec">
      <div class="h1">Специалист</div>
      <div class="card">
        <div class="menuItem" id="specPick">
          <div class="miIcon">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-scissors"></use></svg>
          </div>
          <div class="miText">
            <div class="miTitle">Мастер</div>
            <div class="miSub">Единственный мастер в барбершопе</div>
          </div>
          <div class="miArrow">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-check"></use></svg>
          </div>
        </div>
      </div>

      <div class="bottom">
        <button class="primary" data-open="screenHome">Готово</button>
      </div>
    </section>

    <!-- SCREEN: DATE -->
    <section class="screen" id="screenDate">
      <div class="h1">Дата и время</div>

      <div class="card calCard">
        <div class="calHead">
          <div class="calMonth" id="calMonth"></div>
          <div class="calNav">
            <button id="prevMonth" aria-label="Предыдущий месяц">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-chevron-left"></use></svg>
            </button>
            <button id="nextMonth" aria-label="Следующий месяц">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-chevron-right"></use></svg>
            </button>
          </div>
        </div>

        <div class="calGrid" id="calDow"></div>
        <div class="calGrid" id="calDays"></div>
      </div>

      <div class="slotSection">
        <div class="slotHead"><span>Утро</span><span class="chev"><svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-chevron-up"></use></svg></span></div>
        <div class="slots" id="slotsMorning"></div>

        <div class="slotHead"><span>День</span><span class="chev"><svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-chevron-up"></use></svg></span></div>
        <div class="slots" id="slotsDay"></div>

        <div class="slotHead"><span>Вечер</span><span class="chev"><svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-chevron-up"></use></svg></span></div>
        <div class="slots" id="slotsEve"></div>
      </div>

      <div class="bottom">
        <button class="primary" data-open="screenHome">Готово</button>
        <div class="note">Работа: 10:00–20:00 • шаг 30 минут</div>
      </div>
    </section>

    <!-- SCREEN: SERVICES -->
    <section class="screen" id="screenServices">
      <div class="h1">Выбрать услуги</div>

      <input class="search" id="svcSearch" placeholder="Найти" />

      <div class="sectionTitle">
        <span>Услуги</span><span class="chev"><svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-chevron-up"></use></svg></span>
      </div>

      <div class="card" id="servicesList"></div>

      <div class="bottom">
        <button class="primary" data-open="screenHome">Готово</button>
        <div class="note">Выберите одну услугу. Длительность зависит от услуги.</div>
      </div>
    </section>

    <!-- SCREEN: CONFIRM -->
    <section class="screen" id="screenConfirm">
      <div class="h1">Подтверждение</div>

      <div class="card pad">
        <div class="sumLine" id="sumLine">—</div>
        <div class="sumSub" id="sumSub">—</div>
      </div>

      <div class="gap"></div>

      <div class="card pad">
        <div class="label">Имя</div>
        <input class="field" id="name" placeholder="Например: Илья" />

        <div class="label">Телефон</div>
        <input class="field" id="phone" placeholder="+7 999 000-00-00" />

        <div class="label">Комментарий (необязательно)</div>
        <input class="field" id="comment" placeholder="Например: без филировки" />
      </div>

      <div class="bottom">
        <button class="primary" id="sendBtn">Записаться</button>
        <div class="note" id="sendNote">После отправки запись появится в Google Таблице.</div>
      </div>
    </section>

    <!-- SCREEN: PROFILE -->
    <section class="screen" id="screenProfile">
      <div class="h1">Профиль</div>

      <div class="card pad">
        <div class="profileHead">
          <div class="profileAvatar">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#i-user"></use></svg>
          </div>
          <div>
            <div class="profileName" id="pfNameLine">Гость</div>
            <div class="profileUser" id="pfUserLine">—</div>
          </div>
        </div>

        <div class="label">Имя</div>
        <input class="field" id="pfName" placeholder="Например: Илья" />

        <div class="label">Телефон</div>
        <input class="field" id="pfPhone" placeholder="+7 999 000-00-00" />

        <div class="label">Предпочтения (необязательно)</div>
        <input class="field" id="pfNote" placeholder="Например: без филировки" />

        <div class="gap"></div>

        <button class="primary" id="pfSave">Сохранить</button>
        <div class="gap"></div>
        <button class="primary outline" id="pfReset">Сбросить</button>

        <div class="note" id="pfStatus">Профиль хранится на вашем устройстве.</div>
      </div>

      <div class="bottom">
        <button class="primary" data-open="screenHome">Назад</button>
      </div>
    </section>

    <!-- SCREEN: MY BOOKINGS -->
<section class="screen" id="screenMy">
  <div class="h1">Мои записи</div>

  <div class="card pad">
    <div class="label">Телефон (как при записи)</div>
    <input class="field" id="myPhone" placeholder="+7 999 000-00-00" />
    <div class="gap"></div>
    <button class="primary" id="myLoad">Показать</button>
    <div class="note" id="myNote">Покажем записи по телефону. Мастер может отмечать: пришел, не пришел, завершено.</div>
  </div>

  <div class="gap"></div>
  <div class="card" id="myList"></div>

  <div class="bottom">
    <button class="primary" data-open="screenHome">Назад</button>
  </div>
</section>


  </div>

  <script src="./booking-utils.js"></script>
  <script src="./app.js"></script>
</body>
</html>
